---
// Pricing for masters (3 cards)
import Section from '../../ui/Section.astro'
import Row from '../../ui/Row.astro'
import Col from '../../ui/Col.astro'
import PricingTable from '../../ui/pricing-tables/PricingTable.astro'
import Toggle from '../../ui/forms/form-elements/Toggle.astro'
import PricingChange from '../../scripts/PricingPlanChange.astro'

interface Plan {
  type: 'basic' | 'featured'
  header: {
    title: string
    subtitle: string
    currency: string
    price: string
    priceLabel: string
    priceMontly: string
    priceLabelMontly: string
    buttonName: string
    buttonLink: string
  }
  body?: {
    listItems: Array<{ listItem: string }>
  }
}

const plans: Plan[] = [
  {
    type: 'basic',
    header: {
      title: 'Start',
      subtitle: 'Идеально, чтобы попробовать',
      currency: '₽',
      price: '500',
      priceLabel: 'разово',
      priceMontly: '500',
      priceLabelMontly: 'разово',
      buttonName: 'Купить токены',
      buttonLink: 'https://t.me/hair_extention_bot?utm_source=landing&utm_medium=pricing&utm_campaign=ai_hair_extension&utm_content=basic'
    },
    body: {
      listItems: [
        { listItem: '<strong>300 токенов</strong> (хватит на 2 клиента с видео-примерками или 10 фото-примерок)' },
        { listItem: '<strong>Токены не сгорают</strong>: купил и пользуешься, когда удобно' },
        { listItem: '<strong>Идеален, чтобы попробовать</strong> или тем, у кого основной поток клиентов уже устоялся, а новые приходят не часто' },
      ]
    }
  },
  {
    type: 'featured',
    header: {
      title: 'Light',
      subtitle: 'если предпочитаешь продавать на живой консультации',
      currency: '₽',
      price: '1700',
      priceLabel: 'месяц',
      priceMontly: '2000',
      priceLabelMontly: 'месяц',
      buttonName: 'Купить токены',
      buttonLink: 'https://t.me/hair_extention_bot?utm_source=landing&utm_medium=pricing&utm_campaign=ai_hair_extension&utm_content=pro'
    },
    body: {
      listItems: [
        { listItem: '<strong>2000 токенов</strong> ежемесячно' },
        { listItem: 'Подойдет, если есть <strong>большой поток</strong> новых клиентов' },
        { listItem: '<strong>Клиентки приходят лично</strong>, ты хочешь сама делать превью, а не шарить клиентам ссылку' },
        { listItem: '<strong>2000 токенов</strong> (хватает на 15–60 фото и видео примерок, зависит от количества вариантов)' },
        { listItem: '<strong>Токены не сгорают</strong>: купил и пользуешься, когда удобно' },
        { listItem: 'Годится как <strong>пополнение PRO</strong>, если токенов не хватило' },
      ]
    }
  },
  {
    type: 'basic',
    header: {
      title: 'Pro',
      subtitle: 'для тех, кто хочет ленивых продаж через ссылку в профиле',
      currency: '₽',
      price: '6000',
      priceLabel: 'месяц',
      priceMontly: '7500',
      priceLabelMontly: 'месяц',
      buttonName: 'Оформить PRO',
      buttonLink: 'https://t.me/hair_extention_bot?utm_source=landing&utm_medium=pricing&utm_campaign=ai_hair_extension&utm_content=pro_plus'
    },
    body: {
      listItems: [
        { listItem: '<strong>5000 не сгораемых токенов</strong> ежемесячно' },
        { listItem: 'Размещаешь ссылку на бота в профиле, клиентка играет с ботом сама, а <strong>бот подводит ее к записи</strong>' },
        { listItem: 'Каталог региона: <strong>бот рекомендует именно тебя</strong> тем, кто рядом' },
        { listItem: 'Рефералы: пришедшие по твоей ссылке видят только «<strong>Записаться к тебе</strong>»' },
        { listItem: '<strong>Статистика</strong> в Телеграме по рефералам' },
        { listItem: '<strong>Лимит 250 токенов</strong> на клиентку по умолчанию — хватит даже привередливым, но в большинстве лидов обойдется дешевле' },
      ]
    }
  },
]
---

<Section classes="bg-neutral-50 dark:bg-neutral-900">
  <Row>
    <Col span="12" align="center" classes="flex items-center justify-center gap-4 mb-12">
      <span id="monthlyLabel" class="font-semibold text-neutral-400 transition-colors">Оплата помесячно</span>
      <Toggle id="pricingType" label="pricing" showLabel={false} checked={true} />
      <span id="annualLabel" class="font-semibold text-neutral-400 text-primary-500 transition-colors">Оплата за год</span>
    </Col>
    {plans.map((plan, idx) => (
      <Col span="4">
        <PricingTable data={plan} listType="checklist" id={`plan-${idx}`} />
      </Col>
    ))}
  </Row>
</Section>
<PricingChange />
